<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Card Slot Clicker 1to9</title>
  <style>
    body {
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #f5f5f5;
      font-family: sans-serif;
    }
    #top-bar {
      width: 100%;
      display: flex;
      justify-content: space-around;
      background: #fff;
      border-bottom: 2px solid #ccc;
      padding: 10px;
    }
    #xp-bar {
      width: 60%;
      height: 20px;
      background: #ddd;
      border-radius: 10px;
      overflow: hidden;
      margin-top: 5px;
    }
    #xp-fill {
      height: 100%;
      background: linear-gradient(90deg, #aaf, #55f);
      width: 0%;
      transition: width 0.3s;
    }
    #main {
      display: flex;
      width: 100%;
      height: calc(100vh - 70px);
    }
    #slot-area {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: #fafafa;
      padding: 5px;
    }
    #reels {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 5px;
    }
    .cell {
      width: 80px;
      aspect-ratio: 8/5; /* Ê®™Èï∑ÊØîÁéá */
      border: 3px solid #666;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #111;
      overflow: hidden;
      transition: border-color 0.3s;
    }
    .cell img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    #slot-buttons button {
      margin: 3px;
      padding: 5px 10px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .stop-btn { background: #ffeb3b; }
    .spin-btn { background: #f44336; color: #fff; }
    #card-area {
      display: flex;
      margin-top: 10px;
      gap: 5px;
    }
    .card {
      width: 60px;
      aspect-ratio: 5/8;
      border-radius: 6px;
      overflow: hidden;
      background: #fff;
    }
    .card img { width: 100%; height: 100%; object-fit: contain; }
    #clicker-area {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: #fff8f8;
    }
    #click-circle {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      background: url('images/click1.png') center/cover no-repeat;
      cursor: pointer;
      transition: transform 0.1s;
    }
    #click-circle:active { transform: scale(0.9); }
    #skills {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      margin-top: 10px;
    }
    #skills button {
      background: #2196f3;
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 4px 8px;
      cursor: pointer;
      font-size: 12px;
    }
    #events {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: #fff;
      border: 2px solid #ccc;
      border-radius: 8px;
      padding: 10px;
      display: none;
    }
  </style>
</head>
<body>
  <div id="top-bar">
    <div>üí∞ „Ç≥„Ç§„É≥: <span id="coins">100</span></div>
    <div>üîÆ „Éû„Éä: <span id="mana">0</span></div>
    <div>‚≠ê Lv: <span id="level">1</span></div>
    <div>üìä XP: <span id="xp">0</span></div>
  </div>
  <div id="xp-bar"><div id="xp-fill"></div></div>
  <div id="main">
    <div id="slot-area">
      <div id="reels"></div>
      <div id="slot-buttons"></div>
      <div id="card-area"></div>
    </div>
    <div id="clicker-area">
      <div id="click-circle"></div>
      <div id="skills"></div>
    </div>
  </div>
  <div id="events"></div>

  <script>
    let coins = 100;
    let mana = 0;
    let level = 1;
    let xp = 0;
    let xpNeeded = 5;

    let reels = document.getElementById('reels');
    let slotButtons = document.getElementById('slot-buttons');
    let cardArea = document.getElementById('card-area');
    let clickCircle = document.getElementById('click-circle');
    let skills = document.getElementById('skills');
    let events = document.getElementById('events');

    function updateUI(){
      document.getElementById('coins').innerText = coins;
      document.getElementById('mana').innerText = mana;
      document.getElementById('level').innerText = level;
      document.getElementById('xp').innerText = xp;
      document.getElementById('xp-fill').style.width = (xp/xpNeeded*100)+"%";
    }

    // „Çπ„É≠„ÉÉ„ÉàÂàùÊúüÂåñ
    for(let i=0;i<3;i++){
      for(let j=0;j<3;j++){
        let div=document.createElement('div');
        div.className='cell';
        div.innerHTML='<img src="images/slot1.png">';
        reels.appendChild(div);
      }
    }

    // ÂÅúÊ≠¢„Éú„Çø„É≥Âæ©Ê¥ª
    let spinBtn = document.createElement('button');
    spinBtn.className = 'spin-btn';
    spinBtn.innerText = '„Çπ„Éî„É≥';
    spinBtn.onclick = startSpin;
    slotButtons.appendChild(spinBtn);

    for(let i=0;i<3;i++){
      let stop=document.createElement('button');
      stop.className='stop-btn';
      stop.innerText='„Çπ„Éà„ÉÉ„Éó'+(i+1);
      stop.onclick=()=>stopReel(i);
      slotButtons.appendChild(stop);
    }

    // „ÇØ„É™„ÉÉ„ÇØÂá¶ÁêÜ
    clickCircle.onclick=function(){
      coins++;
      updateUI();
    };

    // „Çπ„Ç≠„É´„ÉÑ„É™„Éº‰ªÆÂÆüË£Ö
    let skillList=["„ÇØ„É™„ÉÜ„Ç£„Ç´„É´","Ëá™Âãï„ÇØ„É™„ÉÉ„ÇØ","„Çπ„Éº„Éë„Éº„Çπ„Éî„É≥","„É©„ÉÉ„ÇØË£úÊ≠£"];
    skillList.forEach(skill=>{
      let btn=document.createElement('button');
      btn.innerText=skill;
      btn.onclick=()=>{
        if(mana>=3){
          mana-=3;
          alert(skill+"„ÇíÂº∑ÂåñÔºÅ");
          updateUI();
        }
      };
      skills.appendChild(btn);
    });

    updateUI();
  </script>
</body>
</html>
