<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Card Slot Clicker 1to9 完全版</title>
<style>
  :root{
    --bg:#f7f7fb;
    --panel:#ffffff;
    --muted:#777;
    --accent:#f76b6b;
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);font-family:Inter, system-ui, -apple-system, "Helvetica Neue", Arial;color:#111;display:flex;justify-content:center;padding:14px}
  .container{width:1200px;max-width:100%;display:flex;gap:14px}
  .left{flex:1;background:var(--panel);border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(20,20,40,0.06)}
  .xpbar{height:16px;background:#eee;border-radius:8px;overflow:hidden;margin-bottom:8px}
  .xpfill{height:100%;width:0%;background:#6cf;transition:width 300ms}
  .leveltxt{font-size:13px;margin-bottom:8px;color:var(--muted)}
  .slot-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;width:100%}
  .cell{aspect-ratio:8/5;border:4px solid #ccc;border-radius:8px;background:#fff;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}
  .cell img{width:100%;height:100%;object-fit:contain;pointer-events:none}
  .controls{display:flex;align-items:center;gap:12px;margin-top:12px;flex-wrap:wrap}
  button{cursor:pointer;border:0;background:#222;color:#fff;padding:8px 12px;border-radius:8px}
  #spinBtn{background:var(--accent);font-weight:700;padding:10px 18px}
  .stop-row{display:flex;gap:10px}
  .stopBtn{background:#ffcf52;color:#111;padding:8px 12px;border-radius:8px}
  .status{display:flex;gap:18px;align-items:center;margin-top:10px}
  .hand{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;padding:8px;border-radius:8px;background:#fff;border:2px solid #ffdede}
  .card{width:72px;aspect-ratio:5/8;border-radius:6px;border:2px solid #ddd;background:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer}
  .card img{width:100%;height:100%;object-fit:contain}
  .small{font-size:13px;color:#444}
  .right{width:420px;display:flex;flex-direction:column;gap:12px}
  .panel{background:var(--panel);padding:12px;border-radius:12px;box-shadow:0 6px 18px rgba(20,20,40,0.06)}
  .clicker-center{display:flex;flex-direction:column;align-items:center;gap:8px}
  #clickBtn{width:220px;height:220px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;border:6px solid #ff9ab0;background:#ffeef3;cursor:pointer;transition:transform .08s}
  #clickBtn img{width:92%;height:92%;object-fit:contain;border-radius:50%}
  #clickBtn:active{transform:scale(.93)}
  .upgrades{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-top:6px}
  .upgradeBtn{background:#5aa0ff;color:#fff;padding:8px 12px;border-radius:8px;border:0;cursor:pointer}
  .skills-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
  .skill-btn{background:#cfe8ff;border-radius:8px;padding:10px;border:1px solid #b6dbff;cursor:pointer;display:flex;flex-direction:column;align-items:flex-start;gap:6px}
  .skill-line{display:flex;justify-content:space-between;width:100%}
  .skill-meta{font-size:12px;color:#444}
  .toast{position:fixed;right:18px;top:18px;background:#111;color:#fff;padding:10px 14px;border-radius:8px;opacity:0.98;box-shadow:0 8px 30px rgba(0,0,0,0.25)}
  @media(max-width:1100px){.container{flex-direction:column;width:100%}.right{width:100%}}
</style>
</head>
<body>
<div class="container">
<div class="left panel" id="leftPanel">
<div class="xpbar"><div id="xpFill" class="xpfill"></div></div>
<div class="leveltxt">Lv <span id="level">1</span> • XP <span id="xp">0</span>/<span id="xpNeed">5</span></div>
<div class="slot-grid" id="slotGrid">
  <div class="cell" id="cell0"></div>
  <div class="cell" id="cell1"></div>
  <div class="cell" id="cell2"></div>
  <div class="cell" id="cell3"></div>
  <div class="cell" id="cell4"></div>
  <div class="cell" id="cell5"></div>
  <div class="cell" id="cell6"></div>
  <div class="cell" id="cell7"></div>
  <div class="cell" id="cell8"></div>
</div>
<div class="controls">
<div class="stop-row">
  <button class="stopBtn" id="stop0" disabled>左リール停止</button>
  <button class="stopBtn" id="stop1" disabled>中リール停止</button>
  <button class="stopBtn" id="stop2" disabled>右リール停止</button>
</div>
<div style="display:flex;align-items:center;gap:8px;">
  <button id="spinBtn">スピン ( -20 )</button>
  <div class="small">固定ベット: 20</div>
</div>
</div>
<div class="status">
  <div>コイン: <strong id="coin">100</strong></div>
  <div>マナ: <strong id="mana">0</strong></div>
  <div>ラック: <strong id="luckView">50</strong></div>
</div>
<div class="small" style="margin-top:8px">手札（クリックで使用）：</div>
<div class="hand" id="hand"></div>
</div>
<div class="right">
<div class="panel clicker">
<div class="clicker-center">
<div id="clickBtn"><img id="clickImg" src="images/click1.png" alt="click"></div>
<div class="upgrades">
<button id="upgradeClick" class="upgradeBtn">クリック+ (必要マナ: <span id="cost_click">2</span>)</button>
<button id="upgradeAuto" class="upgradeBtn">自動+1/s (必要マナ: <span id="cost_auto">3</span>)</button>
</div>
</div>
<div class="small" style="margin-top:8px">クリックPower: <span id="clickPower">1</span> • 自動Power: <span id="autoPower">0</span></div>
</div>
<div class="panel skills">
<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
  <strong>スキルツリー (ボタン式)</strong>
  <div class="small">スキルP: <span id="skillPoint">0</span></div>
</div>
<div class="skills-grid" id="skillsGrid"></div>
</div>
</div>
</div>
<div id="toastHolder" style="position:fixed;right:18px;top:18px;z-index:1200"></div>
<script>
/* 画像リストを1枚クリックに対応 */
const IMAGES = {
  slots: Array.from({length:9},(_,i)=>`images/slot${i+1}.png`),
  cards: Array.from({length:7},(_,i)=>`images/card${i+1}.png`),
  clicks: [`images/click1.png`]  // クリックは1枚固定
};
/* ここに前回提示した完全版JavaScriptを統合、clickランダム部分を固定化 */
$('clickBtn').addEventListener('click', ()=>{
  $('clickImg').src = IMAGES.clicks[0]; // 常に click1.png
  // 他は以前のロジック通り
});
setup();
</script>
</body>
</html>
